---
sidebar: sidebar 
permalink: br-use-oracle-restore.html 
keywords: restore, vm, oracle, databases, snapshots, object storage, cloud storage, backing up, back up, backup, backup application data, Amazon Web services, AWS, NetApp Backup and Recovery, Oracle database, Microsoft SQL Server database, SAP HANA database 
summary: 使用NetApp备份和恢复保护您的 Oracle 工作负载。 
---
= 使用NetApp备份和恢复恢复 Oracle 数据库
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
使用NetApp备份和恢复从快照副本、复制到二级存储的备份或存储在对象存储中的备份恢复 Oracle 数据库。

.从这些位置恢复
您可以从不同的起始位置恢复数据库：

* 从主位置恢复（本地快照）
* 从二级存储上的复制资源恢复
* 从对象存储备份恢复


.恢复到这些点
您可以将数据恢复到原始位置；在此私人预览版中不提供恢复到备用位置的功能。

* 恢复到原始位置




== Oracle 数据库恢复的工作原理

还原 Oracle 数据库时，会发生以下情况：

* 当您从本地快照恢复数据库时， NetApp Backup and Recovery 会使用备份中的数据创建一个_新_资源。
* 从复制的存储进行恢复时，您可以将其恢复到原始位置。
* 从对象存储还原备份时，您可以将数据还原到源存储或本地ONTAP系统，然后从那里恢复数据库。


从“恢复”页面（也称为“搜索和恢复”），您可以恢复数据库，即使您不记得确切的名称、它所在的位置或它最后处于良好状态的日期。您可以使用过滤器搜索数据库。



== 还原 Oracle 数据库

根据您的需要，将 Oracle 数据库还原到特定时间点、特定系统更改号 (SCN) 或最后的良好状态。您还可以简单地从快照恢复数据库并跳过自动恢复过程。如果您想手动执行恢复，您可能希望跳过自动恢复过程。您可以使用数据库名称或特定过滤器来搜索数据库。

*所需的控制台角色* 备份和恢复超级管理员或备份和恢复恢复管理员角色。 https://docs.netapp.com/us-en/console-setup-admin/reference-iam-predefined-roles.html["了解所有服务的NetApp控制台访问角色"^] 。

.步骤
. 从NetApp控制台菜单中，选择“保护”>“备份和恢复”。
. 从NetApp备份和恢复菜单中，选择 *恢复*。
. 从名称搜索字段右侧的下拉列表中，选择 *Oracle*。
. 输入要还原的数据库的名称或筛选要还原的数据库所在的数据库主机。
+
出现符合您的搜索条件的快照列表。

. 选择要恢复的数据库的“*恢复*”按钮。
. 选择恢复选项：
+
[role="tabbed-block"]
====
.恢复到特定时间点
--
.. 选择*恢复到特定时间点*。
.. 选择“下一步”。
.. 从下拉菜单中选择一个日期，然后选择*搜索*。
+
显示指定日期的匹配快照列表。



--
.恢复到特定的系统变更号 (SCN)
--
.. 选择*恢复到特定的系统变更号 (SCN)*。
.. 选择“下一步”。
.. 输入要用作还原点的 SCN，然后选择*搜索*。
+
显示指定 SCN 的匹配快照列表。



--
.恢复到最新备份（上次良好状态）
--
.. 选择*恢复到最新备份*。
.. 选择“下一步”。
+
显示最新的完整备份和日志备份。



--
.从快照还原，无需恢复
--
.. 选择*从没有恢复的快照中恢复*。
.. 选择“下一步”。
+
显示匹配的快照。



--
====
. 选择快照源位置。
. 选择“*下一步*”继续进入“恢复目标设置”页面。
+
接下来，您可以选择目标设置以及恢复前和恢复后选项。



[discrete]
===== 目的地选择

. 选择目标设置以及恢复前和恢复后选项。


[role="tabbed-block"]
====
.恢复到原始位置
--
. *目的地设置*：
+
** 选择恢复整个数据库或仅恢复数据库的表空间。
** *控制文件*：可选地，启用此选项也可以恢复数据库控制文件。


. *预恢复选项*：
+
** 或者，启用此选项并输入应在还原操作之前运行的脚本的完整路径以及该脚本所采用的任何参数。
** 为脚本选择一个超时值。如果脚本未能在此时间段内执行，则恢复仍将继续。


. *恢复后选项*：
+
** *后记*：可选地，启用此选项并输入应在恢复操作后运行的脚本的完整路径以及该脚本所采用的任何参数。
** *恢复后以 READ-WRITE 模式打开数据库或容器数据库*：恢复操作完成后，备份和恢复将为数据库启用 READ-WRITE 模式。


. *通知*部分：
+
** *启用电子邮件通知*：选择此选项可接收有关恢复操作的电子邮件通知，并指示您想要接收的通知类型。


. 选择*恢复*。


--
.恢复至备用位置
--
不适用于 Oracle 工作负载预览。

--
====