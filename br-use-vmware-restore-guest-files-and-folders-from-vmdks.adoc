---
sidebar: sidebar 
permalink: br-use-vmware-restore-guest-files-and-folders-from-vmdks.html 
keywords:  
summary: 您可以从 Windows 客户操作系统上的 VMDK 还原一个或多个文件或文件夹。 
---
= 从 VMDK 还原客户机文件和文件夹
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
您可以从 Windows 客户操作系统上的 VMDK 还原一个或多个文件或文件夹。

.开始之前
在从NetApp Backup and Recovery中还原文件和文件夹之前，您需要为来宾虚拟机创建凭据。NetApp Backup and Recovery使用这些凭据在附加虚拟磁盘时对来宾虚拟机进行身份验证。

.关于此任务
来宾文件或文件夹恢复性能取决于两个因素：正在恢复的文件或文件夹的大小；以及正在恢复的文件或文件夹的数量。如果要恢复的数据集大小相同，则恢复大量小文件可能比恢复少量大文件花费的时间比预期的要长。


IMPORTANT: 一台虚拟机上同时只能运行一个连接或还原操作。您不能在同一台虚拟机上运行并行连接或恢复操作。


IMPORTANT: 借助访客恢复功能，您可以查看和恢复系统文件和隐藏文件，以及查看加密文件。请勿覆盖现有系统文件或将加密文件恢复到加密文件夹。在恢复操作期间，访客文件的隐藏属性、系统属性和加密属性不会保留在恢复的文件中。查看或浏览保留分区可能会导致错误。

.步骤
. 从NetApp Backup and Recovery菜单中，选择 *Inventory*。
. 选择“虚拟机”菜单。
. 从列表中选择包含要恢复的文件的虚拟机。
. 选择“操作”图标 image:../media/icon-action.png["操作选项"] 针对该虚拟机。
. 选择“恢复文件和文件夹”。
. 选择要从中恢复的快照，然后选择“下一步”。
. 选择要从中恢复的快照位置。如果选择辅助位置，请从列表中选择辅助快照。
. 选择“下一步”。
. 从列表中选择要附加到虚拟机的虚拟磁盘，然后选择“下一步”。
. 在“选择虚拟机凭据”页面上，如果您尚未存储客户虚拟机的凭据，请选择“添加凭据”并执行以下操作：
+
.. *凭证名称*：输入凭证的名称。
.. *身份验证模式*：选择 *Windows*。
.. *代理*：从列表中选择一个控制台代理，该代理将处理NetApp Backup and Recovery与此主机之间的通信。
.. *域和用户名*：输入凭据的 NetBIOS 或域 FQDN 和用户名。
.. *密码*：请输入凭据的密码。
.. 选择“*添加*”。


. 选择用于向客户虚拟机进行身份验证的虚拟机凭据。
+
NetApp Backup and Recovery将虚拟磁盘附加到虚拟机，并显示所有文件和文件夹，包括隐藏的文件和文件夹。它会为每个分区（包括系统保留分区）分配一个驱动器号。

+
您选择的文件和文件夹会列在屏幕右侧窗格中。

. 选择“下一步”。
. 输入将恢复所选文件的来宾的 UNC 共享路径。
+
** IPv4 地址示例： `\\10.60.136.65\c$`
** IPv6地址示例： `\\fd20-8b1e-b255-832e--61.ipv6-literal.net\C\restore`


+
如果存在同名文件，您可以选择覆盖或跳过它们。

. 选择*恢复*。
+
您可以在“作业监控”页面上查看恢复进度。


